webpackJsonp([7,8,9,10,11,15,18],{188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expressions=t.functions=t.constants=void 0;var o=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.constants={fsm:{keys:{state:"state",item:"itemId",itemType:"itemType"},zones:{lounge:"lounge",control:"control"},actions:{mine:"mine",inventory:"inventory"},questions:{idElem:"idElem"},items:{asteroidSample:"asteroidSample"}},sim:{engine:{ok:"ok",overheat:"overheat",exploded:"explo"}},IO:{vId:"vId",kId:"kId"},items:{asteroidSample:"asteroidSample",element:"element",weight:"weight",stock:"stock",ship:"ship",engine:"engine",hull:"hull",sequence:"sequence"},relations:{contains:"contains"},elements:{iron:{shc:20},copper:{shc:10},potassium:{shc:30},chromium:{shc:10}}},t.functions={propKid:function(e){return{kId:e}},componentTag:function(e,t){return r.default.createElement("tag",t)}},t.expressions={arithmeticSequence:{id:"arithmeticSequence",name:"the arithmetic sequence",desc:"Finds the nth term of a sequence that starts at a and increments by d",ex:"a1+(n-1)d",exAlt:["3*(x+1)^3+8*(x+1)^2+u","sin(x)/cos(x)","(x+1)*cos(x+1)"],next:"a(n-1)+d"}}},190:function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){return console.log("action set zone"),{type:"SET_ZONE",payload:{zone:e,state:t}}}function i(e,t){return{type:"SET_FSM_STATE",payload:{id:e,state:t}}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.setZone=r,t.setFSMState=i;t.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_FSM_STATE":return console.log("action setfsm "+t.payload.id),a({},e,o({},t.payload.id,a({},e[t.payload.id],t.payload.state)));default:return e}}},191:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"h",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return u}),n.d(t,"g",function(){return c}),n.d(t,"a",function(){return l});var o="persist:",r="persist/FLUSH",i="persist/REHYDRATE",a="persist/PAUSE",s="persist/PERSIST",u="persist/PURGE",c="persist/REGISTER",l=-1},192:function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t,n,o){return console.log("action addItem "+e+" type "+t+" id "+n),{type:"ADD_ITEM",payload:{container:e,type:t,id:n,item:o}}}function i(e,t,n,o){return console.log("action deleteItem "+e+" type "+t+" id "+n),{type:"DEL_ITEM",payload:{container:e,type:t,id:n,item:o}}}function a(e,t,n){return console.log("action editItem type "+e+" id "+t),{type:"EDIT_ITEM",payload:{type:e,id:t,props:n}}}function s(e,t,n){return console.log("action edit item key "+t+" val "+n),{type:"EDIT_USER_ANS",payload:{item:e,key:t,val:n}}}Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.addItem=r,t.deleteItem=i,t.editItem=a,t.editUserAns=s;var c=n(188);t.reducer=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(t={},o(t,c.constants.items.ship,(e={},o(e,c.constants.items.engine,{id:c.constants.items.engine,element:"iron",temp:c.constants.elements.iron.shc,state:c.constants.sim.engine.ok}),o(e,c.constants.items.hull,{id:c.constants.items.hull,element:"iron",temp:c.constants.elements.iron.shc,state:c.constants.sim.engine.ok}),e)),o(t,c.constants.items.asteroidSample,{}),o(t,c.constants.items.stock,{}),o(t,c.constants.items.sequence,{}),t),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(r.type){case"ADD_ITEM":return console.log("items reducer add sample"),u({},n,o({},r.payload.type,u({},n[r.payload.type],o({},r.payload.id,r.payload.item))));case"DEL_ITEM":console.log("items reducer del item");var i=u({},n[r.payload.type]);return delete i[r.payload.id],u({},n,o({},r.payload.type,i));case"EDIT_ITEM":var a=r.payload.id?n[r.payload.type][r.payload.id]:n[r.payload.type],s=u({},a,r.payload.props);return r.payload.id&&(s=o({},r.payload.id,s)),console.log("edit item with props",r.payload.props),console.log("edit item = ",s),u({},n,o({},r.payload.type,u({},n[r.payload.type],s)));case"EDIT_USER_ANS":var l=u({},r.payload.item,{user:u({},r.payload.item.user,o({},r.payload.key,r.payload.val))});return u({},n,o({},r.payload.item.type,u({},n[r.payload.item.type],o({},r.payload.item.id,l))));default:return n}}},193:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=(n(13),function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return i(t,e),a(t,[{key:"handleClick",value:function(){var e={kId:this.props.kId,vId:this.props.vId};console.log("button input"),console.log(e),this.props.onInput(e)}},{key:"render",value:function(){return this.props.disabled?u.default.createElement("button",{onClick:this.handleClick,disabled:!0}," ",this.props.text):u.default.createElement("button",{onClick:this.handleClick}," ",this.props.text)}}]),t}(u.default.Component));t.default=c},194:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectContained=t.selectFsmState=void 0;var o=(n(266),n(188));(function(e){e&&e.__esModule})(o),t.selectFsmState=function(e,t,n){var o=e.fsm[t];return o||n},t.selectContained=function(e,t){var n=e.relations.contains[t];if(console.log("selectContained "+t),console.log(n),n){var o={};for(var r in n)if(n.hasOwnProperty(r)){var i=n[r],a=i.map(function(t){return e.items[r][t]});o[r]=a}return o}return{}}},196:function(e,t,n){"use strict";function o(e){return e}function r(e){return{type:"NEXT_STEP",payload:{step:e}}}function i(e){return{type:"PLAY_SIM",payload:{play:e}}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.dispatchAny=o,t.nextStep=r,t.playSim=i;t.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ui:{play:!0},sim:{t:0,temp:20}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"NEXT_STEP":return a({},e,{sim:a({},e.sim,t.payload.step)});case"PLAY_SIM":return a({},e,{ui:a({},e.ui,{play:t.payload.play})});default:return e}}},197:function(e,t,n){"use strict";function o(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}Object.defineProperty(t,"__esModule",{value:!0}),t.guid=o},198:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r={message:function(e){return{kId:e}},item:function(e,t){return{kId:e,item:t}},answer:function(e,t){return o({kId:e},t)}};t.default=r},199:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getRandomItem=function(e){return e[Math.floor(e.length*Math.random())]}},200:function(e,t,n){"use strict";function o(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function r(e,t){var n=void 0!==e.version?e.version:i.a,r=(e.debug,void 0===e.stateReconciler?a.a:e.stateReconciler),p=e.getStoredState||u.a,d=void 0!==e.timeout?e.timeout:f,m=null,y=!1,h=!0,v=function(e){return e._persist.rehydrated&&m&&!h&&m.update(e),e};return function(a,u){var f=a||{},b=f._persist,g=o(f,["_persist"]),w=g;if(u.type===i.e){var _=!1,O=function(t,n){_||(u.rehydrate(e.key,t,n),_=!0)};if(d&&setTimeout(function(){!_&&O(void 0,new Error('redux-persist: persist timed out for persist key "'+e.key+'"'))},d),h=!1,m||(m=Object(s.a)(e)),b)return a;if("function"!=typeof u.rehydrate||"function"!=typeof u.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return u.register(e.key),p(e).then(function(t){(e.migrate||function(e,t){return Promise.resolve(e)})(t,n).then(function(e){O(e)},function(e){O(void 0,e)})},function(e){O(void 0,e)}),l({},t(w,u),{_persist:{version:n,rehydrated:!1}})}if(u.type===i.f)return y=!0,u.result(Object(c.a)(e)),l({},t(w,u),{_persist:b});if(u.type===i.b)return u.result(m&&m.flush()),l({},t(w,u),{_persist:b});if(u.type===i.d)h=!0;else if(u.type===i.h){if(y)return l({},w,{_persist:l({},b,{rehydrated:!0})});if(u.key===e.key){var k=t(w,u),I=u.payload,S=!1!==r&&void 0!==I?r(I,a,k,e):k,E=l({},S,{_persist:l({},b,{rehydrated:!0})});return v(E)}}if(!b)return t(a,u);var j=t(w,u);return j===w?a:(j._persist=b,v(j))}}t.a=r;var i=n(191),a=n(239),s=n(205),u=n(206),c=n(207),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},f=5e3},201:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=n(32),l=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.signIn=n.signIn.bind(n),n.signOut=n.signOut.bind(n),n}return i(t,e),a(t,[{key:"signIn",value:function(){gapi.auth2.getAuthInstance().signIn()}},{key:"signOut",value:function(){gapi.auth2.getAuthInstance().signOut()}},{key:"render",value:function(){return this.props.gapi.gapiReady?this.props.gapi.isSignedIn?u.default.createElement("button",{onClick:this.signOut},"sign out"):u.default.createElement("button",{onClick:this.signIn},"sign in"):u.default.createElement("p",null,"google apis loading...")}}]),t}(u.default.Component),f=function(e){return{gapi:e.gapi}};t.default=(0,c.connect)(f)(l)},204:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),r=n(222),i=n(190),a=n(192),s=n(223),u=n(196),c=n(224),l=(0,o.combineReducers)({simulation:u.reducer,game:r.reducer,fsm:i.reducer,items:a.reducer,relations:s.reducer}),f=function(e,t){var n=(0,c.parentReducer)(e,t);return l(n,t)};t.default=f},205:function(e,t,n){"use strict";function o(e){function t(){if(0===h.length)return v&&clearInterval(v),void(v=null);var e=h.shift(),t=c.reduce(function(t,n){return n.in(t,e,m)},m[e]);if(void 0!==t)try{y[e]=d(t)}catch(e){console.error("redux-persist/createPersistoid: error serializing state",e)}else delete y[e];0===h.length&&n()}function n(){Object.keys(y).forEach(function(e){void 0===m[e]&&delete y[e]}),b=p.setItem(f,d(y)).catch(a)}function o(e){return(!u||-1!==u.indexOf(e)||"_persist"===e)&&(!s||-1===s.indexOf(e))}function a(e){}var s=e.blacklist||null,u=e.whitelist||null,c=e.transforms||[],l=e.throttle||0,f=""+(void 0!==e.keyPrefix?e.keyPrefix:i.c)+e.key,p=e.storage,d=!1===e.serialize?function(e){return e}:r,m={},y={},h=[],v=null,b=null;return{update:function(e){Object.keys(e).forEach(function(t){o(t)&&m[t]!==e[t]&&-1===h.indexOf(t)&&h.push(t)}),Object.keys(m).forEach(function(t){void 0===e[t]&&h.push(t)}),null===v&&(v=setInterval(t,l)),m=e},flush:function(){for(;0!==h.length;)t();return b||Promise.resolve()}}}function r(e){return JSON.stringify(e)}t.a=o;var i=n(191)},206:function(e,t,n){"use strict";function o(e){var t=e.transforms||[],n=""+(void 0!==e.keyPrefix?e.keyPrefix:i.c)+e.key,o=e.storage,a=(e.debug,!1===e.serialize?function(e){return e}:r);return o.getItem(n).then(function(e){if(e)try{var n={},o=a(e);return Object.keys(o).forEach(function(e){n[e]=t.reduceRight(function(t,n){return n.out(t,e,o)},a(o[e]))}),n}catch(e){throw e}})}function r(e){return JSON.parse(e)}t.a=o;var i=n(191)},207:function(e,t,n){"use strict";function o(e){var t=e.storage,n=""+(void 0!==e.keyPrefix?e.keyPrefix:i.c)+e.key;return t.removeItem(n,r)}function r(e){}t.a=o;var i=n(191)},213:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    display: flex;\n    justify-content: flex-end;\n    background-color:red;\n"],["\n    display: flex;\n    justify-content: flex-end;\n    background-color:red;\n"]),c=n(0),l=o(c),f=n(33),p=n(189),d=o(p),m=n(212),y=o(m),h=n(201),v=o(h),b=function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"render",value:function(){return l.default.createElement(g,null,l.default.createElement(y.default,{icon:"facebook"}),l.default.createElement(y.default,{icon:"twitter"}),l.default.createElement(y.default,{icon:"google"}),l.default.createElement(v.default,null))}}]),t}(l.default.Component);t.default=(0,f.withSiteData)(b);var g=d.default.div(u)},214:function(e,t,n){"use strict";(function(e){function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(0),l=o(c),f=n(32),p=n(13),d=n(67),m=o(d),y=n(204),h=o(y),v=n(238),b=n(245),g=o(b),w=n(248),_=o(w),O=n(249);"undefined"==typeof window&&(e.window={});var k=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.persistConfig={key:e.savefile,storage:g.default,stateReconciler:_.default,transforms:[(0,v.createTransform)(function(e,t){return console.log("persist create transform inbound "+t),s({},e)},function(e,t){return console.log("persist create transform outbound "+t),s({},e)},{whitelist:null})]},n.pReducer=(0,v.persistReducer)(n.persistConfig,h.default),n.store=(0,p.createStore)(n.pReducer,{},(0,p.applyMiddleware)(m.default)),n.persistor=(0,v.persistStore)(n.store),n}return a(t,e),u(t,[{key:"render",value:function(){return l.default.createElement(f.Provider,{store:this.store},l.default.createElement(O.PersistGate,{loading:l.default.createElement("p",null,"persisting!"),persistor:this.persistor},this.props.children))}}]),t}(l.default.Component);t.default=k}).call(t,n(4))},222:function(e,t,n){"use strict";function o(e,t){return{type:"SET_HEALTH",payload:{time:e,temp:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0,t.setHealth=o;var r=n(188);t.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{health:100,zone:r.constants.fsm.zones.lounge};return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type,e}},223:function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;var r=n(188);t.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o({},r.constants.relations.contains,o({},r.constants.fsm.zones.control,o({},r.constants.items.ship,[r.constants.items.engine,r.constants.items.hull])));return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type,e}},224:function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.moveItem=t.parentReducer=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=(n(225),n(188));t.parentReducer=function(e,t){switch(t.type){case"ADD_ITEM":var n=e.relations[a.constants.relations.contains][t.payload.container]?e.relations[a.constants.relations.contains][t.payload.container]:{},s=n[t.payload.type]?n[t.payload.type]:[];if(s.indexOf(t.payload.id)<=-1)return i({},e,{relations:o({},a.constants.relations.contains,i({},e.relations[a.constants.relations.contains],o({},t.payload.container,i({},n,o({},t.payload.type,[].concat(r(s),[t.payload.id]))))))});break;case"DEL_ITEM":var u=e.relations[a.constants.relations.contains][t.payload.container],c=u[t.payload.type].filter(function(e){if(e!=t.payload.id)return e});return i({},e,{relations:o({},a.constants.relations.contains,i({},e.relations[a.constants.relations.contains],o({},t.payload.container,i({},u,o({},t.payload.type,c)))))});case"MOVE_ITEM":console.log("parent reducer move item");break;case"SET_ZONE":return i({},e,{fsm:i({},e.fsm,o({},t.payload.zone,{state:t.payload.state})),game:i({},e.game,{zone:t.payload.zone})});default:return e}return e},t.moveItem=function(e,t,n){return{type:"MOVE_ITEM",payload:{from:e,to:t,item:n}}}},225:function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){return{type:"ADD_SAMPLE",payload:{sample:e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.addSample=r;var a=n(226),s=n(227),u=(0,s.createAsteroid)();t.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o({},a.constants.inventory.items,o({},a.constants.mine.samples,o({},u.sample.id,u.sample))),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"ADD_SAMPLE":return i({},e,o({},a.constants.inventory.items,o({},a.constants.mine.samples,i({},e.inventory.samples,o({},t.payload.sample.id,t.payload.sample)))));default:return e}}},226:function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=t.constants={input:{kId:"kId",vId:"vId"},store:{state:"state"},names:{lounge:"lounge"},types:{zones:"zones",actions:"actions",questions:"questions"},zones:{lounge:"lounge",control:"control"},questions:{read:"read"},actions:{mine:"mine",inventory:"inventory"},read:{q1:"q1"},mine:{samples:"samples"},inventory:{items:"items"},logTypes:{action:"action",answer:"answer"}};t.messages={changeZone:function(e,t){var n;return n={},o(n,i.input.vId,e),o(n,"changeFrom",function(e){return{to:t,from:e}}),n},toFSMState:function(e,t){return{id:e,state:t}},zone:function(e){return o({},i.input.vId,e)},action:function(e){return o({},i.input.vId,e)},output:function(e,t){return r(o({},i.input.vId,e),t)}}},227:function(e,t,n){"use strict";function o(){var e=["iron","magnesium","copper","silver"],t=(0,r.getRandomItem)(e);return{description:"it is a "+t+" asteroid",sample:{id:(0,i.guid)(),name:"unknown sample",game:{weight:10*Math.random()+5,element:t},user:{weight:null,element:null}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.createAsteroid=o;var r=n(199),i=n(197)},230:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),c=o(u),l=n(262),f=o(l),p=function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement(f.default,null))}}]),t}(c.default.Component);t.default=p},231:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSample=void 0;var o=n(199),r=n(197),i=n(188);console.log("creating samples");var a=Object.keys(i.constants.elements);console.log("create sample materials",a);t.createSample=function(){var e=(0,o.getRandomItem)(a);return{id:(0,r.guid)(),type:i.constants.items.asteroidSample,element:e,weight:10*Math.random()+3,user:{element:null,weight:null}}}},232:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addToStock=t.createStock=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};n(188),t.createStock=function(e){return{id:e}},t.addToStock=function(e,t,n){var r=o({},e),i=0;return e[t]&&(i=e[t]),r[t]=i+n,console.log("addToStock",r),r}},233:function(e,t,n){"use strict";(function(e){function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return e+"-"+t}function u(e,t,n){return e+":"+t+"-"+n}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),f=o(l),p=n(214),d=o(p),m=(n(197),n(32)),y=n(213),h=o(y);"undefined"==typeof window&&(e.window={});var v=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.createFileWithJSONContent=function(e,t,n,o,r){var i="-------314159265358979323846",a="\r\n--"+i+"\r\n";console.log("creating file with prop gamename val "+this.props.gamename);var s={name:n,mimeType:"application/json",appProperties:{gamename:""+this.props.gamename}},u=a+"Content-Type: application/json\r\n\r\n"+JSON.stringify(s)+a+"Content-Type: application/json\r\n\r\n"+o+"\r\n---------314159265358979323846--",c="/upload/drive/v3/files",l="POST";e||(c=c+"/"+t,l="PATCH"),console.log("uploading content, method "+l+" path "+c);var f=gapi.client.request({path:c,method:l,params:{uploadType:"multipart"},headers:{"Content-Type":'multipart/related; boundary="'+i+'"'},body:u});r||(r=function(e){console.log(e)}),f.execute(r)},n.onNewGame=n.onNewGame.bind(n),n.onLoadGame=n.onLoadGame.bind(n),n.getLocalFiles=n.getLocalFiles.bind(n),n.listSaveFiles=n.listSaveFiles.bind(n),n.state={id:null,local:{},synced:!1,syncing:!1},n}return a(t,e),c(t,[{key:"componentDidMount",value:function(){this.getLocalFiles()}},{key:"componentWillUnmount",value:function(){console.log("unmounting, saving to drive"),this.saveLocalMeta(),this.saveGame()}},{key:"componentDidUpdate",value:function(e,t){!this.props.gapi.isSignedIn||this.state.synced||this.state.syncing||this.syncSaves()}},{key:"getLocalFiles",value:function(){var e=this,t=window.localStorage,n=new RegExp("("+this.props.gamename+"-A)"),o=[];for(var r in t)t.hasOwnProperty(r)&&r.match(n)&&o.push({key:r,val:t.getItem(r)});var i=o.map(function(e){return e.key.split("-")[1]});if(console.log("local ids",i),i){var a={};i.map(function(n){a[n]||(a[n]={date:t.getItem(u("date",e.props.gamename,"A")),desc:t.getItem(u("desc",e.props.gamename,"A"))})}),this.setState({local:a}),console.log("local meta",a)}}},{key:"onNewGame",value:function(){this.saveLocalMeta(),this.setState({filename:s(this.props.gamename,name)})}},{key:"saveLocalMeta",value:function(){var e=new Date;console.log("new game name: A date: "+e.getTime());var t=window.localStorage;t.setItem(u("date",this.props.gamename,"A"),e.getTime()),t.setItem(u("desc",this.props.gamename,"A"),"a game description")}},{key:"saveGame",value:function(){var e=s(this.props.gamename,"A");console.log("saving game to drive name "+e);var t=window.localStorage;if(this.props.gapi.isSignedIn){this.listSaveFiles().then(function(n){var o=n.result.files;if(console.log("saveGame response",n),console.log("saving game, drive files found: "+o.length),o&&o.length>0){var r=o[0].id,i=t.getItem("persist:"+e);console.log("updated file from local",i),this.createFileWithJSONContent(!1,r,e,i,function(e){console.log("create file with json callback",e)})}}.bind(this))}else console.log("ERROR, unable to upload to drive, not signed in")}},{key:"listSaveFiles",value:function(){return gapi.client.drive.files.list({q:"appProperties has { key='gamename' and value='"+this.props.gamename+"' }",fields:"files(id, name, mimeType, modifiedTime)"})}},{key:"getFile",value:function(e){return gapi.client.drive.files.get({fileId:e,alt:"media",fields:"id, name, mimeType, modifiedTime"})}},{key:"syncSaves",value:function(){this.setState({syncing:!0});var e=window.localStorage;this.listSaveFiles().then(function(t){var n=t.result.files;if(console.log("loadGame response",t),console.log("loadinggame, drive files found: "+n.length),n&&n.length>0){var o=n[0].modifiedTime,r=e.getItem(u("date",this.props.gamename,"A")),i=new Date(o);console.log("driveTime "+o,i),console.log("is drive.getTime "+i.getTime()+" less than local time? "+r+" -> "+(i.getTime()<r)),i.getTime()>r?(console.log("drive file modified later than local file, downloading"),this.downloadSave(n[0])):(console.log("local file is later than drive file, which save file do you want?"),this.setState({saveConflict:n[0]}))}}.bind(this)).catch(function(e){console.log("syncSaves failed",e),this.setState({syncing:!1,synced:!0})})}},{key:"downloadSave",value:function(e){var t=this;console.log("downloading saving file ",e);var n=window.localStorage,o=e.id,r=e.name;console.log("downloading save file id: "+o+" name: "+r),this.getFile(o).then(function(e){console.log("get file result",e),console.log("file body",e.body),console.log("file result",e.result);n.setItem("persist:"+r,e.body);console.log("saving drive file to local storage at persist:"+r),t.setState({syncing:!1,synced:!0,saveConflict:null,error:null})}).catch(function(e){console.log("fet file error",e),t.setState({syncing:!1,synced:!0,error:e,saveConflict:null})})}},{key:"getAppData",value:function(){console.log("getting app data from drive"),console.log("drive",gapi.client.drive);gapi.client.drive.files.list({spaces:"appDataFolder",fields:"nextPageToken, files(id, name)",pageSize:100}).then(function(e){console.log("app data result",e)}).catch(function(e){console.log("app data error",e)})}},{key:"renderNewGame",value:function(){var e=this;return this.state.syncing?f.default.createElement("button",{onClick:function(){e.onNewGame()},disabled:!0},"New Game"):f.default.createElement("button",{onClick:function(){e.onNewGame()}},"New Game")}},{key:"renderSaves",value:function(){var e=this;if(!this.state.syncing&&this.state.local)return console.log("rendering save files, local:",this.state.local),Object.keys(this.state.local).map(function(t,n){var o=e.state.local[t];return f.default.createElement("button",{onClick:function(){e.onLoadGame(t)}},"save ",n," date: ",o.date,", desc: ",o.desc)})}},{key:"onLoadGame",value:function(e){var t=s(this.props.gamename,"A");console.log("load game name: "+t),this.setState({filename:t})}},{key:"renderSaveConflict",value:function(){var e=this;return this.state.saveConflict?f.default.createElement("div",null,f.default.createElement("p",null,"Your local file is ahead of your drive file, which would you like to continue with? (the other will be deleted)"),f.default.createElement("button",{onClick:function(){e.downloadSave(e.state.saveConflict),e.saveLocalMeta()}},"Choose drive"),f.default.createElement("button",{onClick:function(){e.saveGame(),console.log("saving local game",e.state),e.setState({syncing:!1,synced:!0,saveConflict:null,error:null})}},"Choose local")):f.default.createElement("p",null,"probelm displaying conflict...")}},{key:"render",value:function(){var e=this;return this.state.saveConflict?this.renderSaveConflict():this.state.synced&&this.state.filename?f.default.createElement(d.default,{savefile:this.state.filename},f.default.createElement("button",{onClick:function(){e.saveGame()}},"save game to drive"),f.default.createElement("button",{onClick:function(){e.saveLocalMeta()}},"save local metadata"),this.props.children):f.default.createElement("div",null,f.default.createElement(h.default,null),this.state.synced?f.default.createElement("p",null,"synced"):f.default.createElement("p",null,"not synced"),f.default.createElement("hr",null),this.renderNewGame(),f.default.createElement("hr",null),this.renderSaves(),f.default.createElement("hr",null),f.default.createElement("hr",null))}}]),t}(f.default.Component),b=function(e){return{gapi:e.gapi}};t.default=(0,m.connect)(b)(v)}).call(t,n(4))},234:function(e,t,n){"use strict";(function(e){function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),c=o(u),l=n(32),f=n(13),p=n(67),d=o(p),m=n(204),y=o(m);"undefined"==typeof window&&(e.window={});var h=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=(0,f.createStore)(y.default,{},(0,f.applyMiddleware)(d.default)),n}return a(t,e),s(t,[{key:"render",value:function(){return c.default.createElement(l.Provider,{store:this.store},this.props.children)}}]),t}(c.default.Component);t.default=h}).call(t,n(4))},238:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(200);n.d(t,"persistReducer",function(){return o.a});var r=n(240);n.d(t,"persistCombineReducers",function(){return r.a});var i=n(242);n.d(t,"persistStore",function(){return i.a});var a=n(243);n.d(t,"createMigrate",function(){return a.a});var s=n(244);n.d(t,"createTransform",function(){return s.a});var u=n(206);n.d(t,"getStoredState",function(){return u.a});var c=n(205);n.d(t,"createPersistoid",function(){return c.a});var l=n(207);n.d(t,"purgeStoredState",function(){return l.a});var f=n(191);n.d(t,"KEY_PREFIX",function(){return f.c}),n.d(t,"FLUSH",function(){return f.b}),n.d(t,"REHYDRATE",function(){return f.h}),n.d(t,"PAUSE",function(){return f.d}),n.d(t,"PERSIST",function(){return f.e}),n.d(t,"PURGE",function(){return f.f}),n.d(t,"REGISTER",function(){return f.g}),n.d(t,"DEFAULT_VERSION",function(){return f.a})},239:function(e,t,n){"use strict";function o(e,t,n,o){var a=(o.debug,i({},n));return e&&"object"===(void 0===e?"undefined":r(e))&&Object.keys(e).forEach(function(o){"_persist"!==o&&t[o]===n[o]&&(a[o]=e[o])}),a}t.a=o;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}},240:function(e,t,n){"use strict";function o(e,t){return e.stateReconciler=void 0===e.stateReconciler?a.a:e.stateReconciler,Object(i.a)(e,Object(r.combineReducers)(t))}t.a=o;var r=n(13),i=n(200),a=n(241)},241:function(e,t,n){"use strict";function o(e,t,n,o){var s=(o.debug,a({},n));return e&&"object"===(void 0===e?"undefined":i(e))&&Object.keys(e).forEach(function(o){if("_persist"!==o&&t[o]===n[o])return r(n[o])?void(s[o]=a({},s[o],e[o])):void(s[o]=e[o])}),s}function r(e){return null!==e&&!Array.isArray(e)&&"object"===(void 0===e?"undefined":i(e))}t.a=o;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}},242:function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t,n){var o=n||!1,r=Object(i.createStore)(c,u,t?t.enhancer:void 0),l=function(e){r.dispatch({type:a.g,key:e})},f=function(t,n,i){var s={type:a.h,payload:n,err:i,key:t};e.dispatch(s),r.dispatch(s),o&&p.getState().bootstrapped&&(o(),o=!1)},p=s({},r,{purge:function(){var t=[];return e.dispatch({type:a.f,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:a.b,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:a.d})},persist:function(){e.dispatch({type:a.e,register:l,rehydrate:f})}});return p.persist(),p}t.a=r;var i=n(13),a=(n(200),n(191)),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u={registry:[],bootstrapped:!1},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case a.g:return s({},e,{registry:[].concat(o(e.registry),[t.key])});case a.h:var n=e.registry.indexOf(t.key),r=[].concat(o(e.registry));return r.splice(n,1),s({},e,{registry:r,bootstrapped:0===r.length});default:return e}}},243:function(e,t,n){"use strict";function o(e,t){return function(t,n){if(!t)return Promise.resolve(void 0);var o=t._persist&&void 0!==t._persist.version?t._persist.version:r.a;if(o===n)return Promise.resolve(t);if(o>n)return Promise.resolve(t);var i=Object.keys(e).map(function(e){return parseInt(e)}).filter(function(e){return n>=e&&e>o}).sort(function(e,t){return e-t});try{var a=i.reduce(function(t,n){return e[n](t)},t);return Promise.resolve(a)}catch(e){return Promise.reject(e)}}}t.a=o;var r=n(191)},244:function(e,t,n){"use strict";function o(e,t){function n(e){return!(!r||-1!==r.indexOf(e))||!(!i||-1===i.indexOf(e))}var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o.whitelist||null,i=o.blacklist||null;return{in:function(t,o,r){return!n(o)&&e?e(t,o,r):t},out:function(e,o,r){return!n(o)&&t?t(e,o,r):e}}}t.a=o},245:function(e,t,n){"use strict";t.__esModule=!0;var o=n(246),r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=(0,r.default)("local")},246:function(e,t,n){"use strict";function o(e){var t=(0,i.default)(e);return{getItem:function(e){return new Promise(function(n,o){n(t.getItem(e))})},setItem:function(e,n){return new Promise(function(o,r){o(t.setItem(e,n))})},removeItem:function(e){return new Promise(function(n,o){n(t.removeItem(e))})}}}t.__esModule=!0,t.default=o;var r=n(247),i=function(e){return e&&e.__esModule?e:{default:e}}(r)},247:function(e,t,n){"use strict";function o(){}function r(e){if("object"!==("undefined"==typeof self?"undefined":a(self))||!(e in self))return!1;try{var t=self[e],n="redux-persist "+e+" test";t.setItem(n,"test"),t.getItem(n),t.removeItem(n)}catch(e){return!1}return!0}function i(e){var t=e+"Storage";return r(t)?self[t]:s}t.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=i;var s={getItem:o,setItem:o,removeItem:o}},248:function(e,t,n){"use strict";function o(e,t,n,o){var s=(o.debug,a({},n));return e&&"object"===(void 0===e?"undefined":i(e))&&Object.keys(e).forEach(function(o){if("_persist"!==o&&t[o]===n[o])return r(n[o])?void(s[o]=a({},s[o],e[o])):void(s[o]=e[o])}),s}function r(e){return null!==e&&!Array.isArray(e)&&"object"===(void 0===e?"undefined":i(e))}t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=o},249:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.PersistGate=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0);!function(e){e&&e.__esModule}(s);(t.PersistGate=function(e){function t(){var e,n,i,a;o(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=i=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),i.state={bootstrapped:!1},i.handlePersistorState=function(){i.props.persistor.getState().bootstrapped&&(i.props.onBeforeLift?Promise.resolve(i.props.onBeforeLift()).then(function(){return i.setState({bootstrapped:!0})}).catch(function(){return i.setState({bootstrapped:!0})}):i.setState({bootstrapped:!0}),i._unsubscribe&&i._unsubscribe())},a=n,r(i,a)}return i(t,e),a(t,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"==typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),t}(s.PureComponent)).defaultProps={loading:null}},254:function(e,t,n){"use strict";(function(e){function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),c=o(u),l=n(233),f=o(l),p=n(234),d=o(p),m=n(230),y=o(m);"undefined"==typeof window&&(e.window={});var h=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"renderPersistStore",value:function(){return c.default.createElement(f.default,{gamename:"g4"},c.default.createElement(y.default,{game:this.props.game}))}},{key:"renderStore",value:function(){return c.default.createElement(d.default,null,c.default.createElement(y.default,{game:this.props.game}))}},{key:"render",value:function(){return this.renderStore()}}]),t}(c.default.Component);t.default=h}).call(t,n(4))},262:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),c=o(u),l=n(263),f=o(l),p=n(274),d=(o(p),n(276)),m=(o(d),n(277)),y=o(m),h=function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement(y.default,null),c.default.createElement(f.default,null))}}]),t}(c.default.Component);t.default=h},263:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),c=o(u),l=n(264),f=o(l),p=n(32),d=(n(13),function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return console.log("game props"),console.log(e),n.getFSM=n.getFSM.bind(n),n.state={},n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.getFSM(this.props.zone)}},{key:"componentWillUpdate",value:function(e,t){if(console.log("component will update, is there a different zone? "+(e.zone!==t.fsm.id)),e.zone!==t.fsm.id){var n=e.zone;this.getFSM(n)}}},{key:"getFSM",value:function(e){var t=(0,f.default)(e);this.setState({fsm:t})}},{key:"renderFSM",value:function(){if(this.state.fsm)return c.default.createElement(this.state.fsm.component,{id:this.state.fsm.id,showEntry:!1,factory:f.default})}},{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement("p",null,"current zone: ",this.props.zone),this.renderFSM())}}]),t}(c.default.Component)),m=function(e,t){return{zone:e.game.zone}};t.default=(0,p.connect)(m)(d)},264:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var r=n(265),i=o(r),a=n(267),s=o(a),u=n(268),c=o(u),l=n(269),f=o(l),p=n(270),d=o(p),m=n(271),y=o(m),h=n(272),v=o(h),b=n(273),g=o(b);t.default=function(e){switch(console.log("factory name "+e+" engine name: "+v.id),e){case s.id:return s;case i.id:return i;case c.id:return c;case f.id:return f;case d.id:return d;case y.id:return y;case v.id:return v;case g.id:return g}}},265:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.component=t.Lounge=t.id=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),f=o(l),p=n(193),d=o(p),m=n(32),y=n(13),h=n(190),v=n(188),b=n(194),g=t.id="lounge",w=t.Lounge=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInput=n.onInput.bind(n),n}return s(t,e),c(t,[{key:"onInput",value:function(e){if("e1"===e[v.constants.IO.kId])this.props.setZone(g,"in");else switch(this.props.fsm.state){case"inv":case"iSeq":"inv"!==e[v.constants.IO.kId]&&"iSeq"!==e[v.constants.IO.kId]||this.props.setFSMState(g,r({},v.constants.fsm.keys.state,"in"));break;case"in":default:"inv"===e[v.constants.IO.kId]?this.props.setFSMState(g,r({},v.constants.fsm.keys.state,"inv")):"iSeq"===e[v.constants.IO.kId]&&this.props.setFSMState(g,r({},v.constants.fsm.keys.state,"iSeq"))}}},{key:"renderSequences",value:function(){var e=this;return console.log("render sequences",this.props),Object.keys(this.props.items.sequence).map(function(t,n){var o=e.props.factory(v.constants.items.sequence);return f.default.createElement(o.component,u({showEntry:!0,factory:e.props.factory,item:e.props.items.sequence[t],onInput:e.onInput},v.functions.propKid("iSeq")))})}},{key:"renderView",value:function(){if(this.props.showEntry)return[f.default.createElement("div",null,"entry to lounge",f.default.createElement(d.default,{kId:"e1",onInput:this.onInput,text:"go to lounge"}))];switch(this.props.fsm.state){case"inv":var e=this.props.factory(v.constants.fsm.actions.inventory);return[f.default.createElement(e.component,u({showEntry:!1,factory:this.props.factory,onInput:this.onInput},v.functions.propKid("inv")))];case"iSeq":var t=this.props.factory(v.constants.items.sequence);return f.default.createElement(t.component,u({showEntry:!1,factory:this.props.factory,onInput:this.onInput},v.functions.propKid("iSeq")));case"in":default:var n=this.props.factory("control"),o=this.props.factory(v.constants.fsm.actions.inventory);return[f.default.createElement("div",null,"inside lounge",f.default.createElement(n.component,u({showEntry:!0,factory:this.props.factory,onInput:this.onInput},v.functions.propKid("ic"))),f.default.createElement(o.component,u({showEntry:!0,factory:this.props.factory,onInput:this.onInput},v.functions.propKid("inv")))),this.renderSequences()]}}},{key:"render",value:function(){return this.renderView()}}]),t}(f.default.Component),_=function(e){return(0,y.bindActionCreators)({setZone:h.setZone,setFSMState:h.setFSMState},e)},O=function(e,t){return{fsm:(0,b.selectFsmState)(e,g,r({},v.constants.fsm.keys.state,"in")),items:(0,b.selectContained)(e,g)}};t.component=(0,m.connect)(O,_)(w)},266:function(e,t,n){"use strict";function o(e,t){return e===t}function r(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var o=t.length,r=0;r<o;r++)if(!e(t[r],n[r]))return!1;return!0}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=null,i=null;return function(){return r(t,n,arguments)||(i=e.apply(null,arguments)),n=arguments,i}}function a(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return function(){for(var t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];var s=0,u=o.pop(),c=a(o),l=e.apply(void 0,[function(){return s++,u.apply(null,arguments)}].concat(n)),f=i(function(){for(var e=[],t=c.length,n=0;n<t;n++)e.push(c[n].apply(null,arguments));return l.apply(null,e)});return f.resultFunc=u,f.recomputations=function(){return s},f.resetRecomputations=function(){return s=0},f}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.reduce(function(e,t,o){return e[n[o]]=t,e},{})})}t.__esModule=!0,t.defaultMemoize=i,t.createSelectorCreator=s,t.createStructuredSelector=u;var c=t.createSelector=s(i)},267:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.component=t.id=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),f=o(l),p=n(193),d=o(p),m=n(194),y=n(32),h=n(13),v=n(190),b=n(192),g=n(188),w=(n(199),t.id="control"),_=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInput=n.onInput.bind(n),console.log("control constructor"),console.log(e),n}return s(t,e),c(t,[{key:"onInput",value:function(e){if("e1"===e.kId)this.props.setZone(w,"in");else switch(this.props.fsm.state){case"in":if("mine"===e.kId)this.props.setZone(w,"mine");else if(e.kId===g.constants.items.engine||e.kId===g.constants.items.hull){console.log("input, updating engine material to "+e.vId);var t=g.constants.elements[e.vId].shc;this.props.editItem(g.constants.items.ship,e.kId,{temp:t,element:e.vId})}break;case"mine":"mine"===e.kId&&this.props.setFSMState(w,r({},g.constants.fsm.keys.state,"in"))}}},{key:"renderShip",value:function(){var e=this.props.factory(g.constants.items.engine);return console.log("factory view fsm engine",e),f.default.createElement(e.component,u({showEntry:!1,factory:this.props.factory,onInput:this.onInput},g.functions.propKid("mine")))}},{key:"renderView",value:function(){if(this.props.showEntry)return[f.default.createElement("div",null,f.default.createElement(d.default,{kId:"e1",onInput:this.onInput,text:"go to control"}))];switch(this.props.fsm.state){case"mine":var e=this.props.factory(g.constants.fsm.actions.mine);return[f.default.createElement(e.component,u({showEntry:!1,factory:this.props.factory,onInput:this.onInput},g.functions.propKid("mine")))];case"in":default:var t=this.props.factory(g.constants.items.engine);console.log("engine view ",t);var n=this.props.factory("lounge");console.log("lounge view ",n);var o=this.props.factory(g.constants.fsm.actions.mine);return[f.default.createElement("div",null,"inside control room",f.default.createElement(t.component,u({showEntry:!0,factory:this.props.factory,onInput:this.onInput},g.functions.propKid("mine"))),f.default.createElement(n.component,u({showEntry:!0,factory:this.props.factory,onInput:this.onInput},g.functions.propKid("l1"))),f.default.createElement(o.component,u({showEntry:!0,factory:this.props.factory,onInput:this.onInput},g.functions.propKid("mine"))))]}}},{key:"render",value:function(){return this.renderView()}}]),t}(f.default.Component),O=function(e){return(0,h.bindActionCreators)({setZone:v.setZone,setFSMState:v.setFSMState,editUserAns:b.editUserAns,editItem:b.editItem},e)},k=function(e,t){return{fsm:(0,m.selectFsmState)(e,w,r({},g.constants.fsm.keys.state,"in")),items:(0,m.selectContained)(e,t.id)}},I=t.component=(0,y.connect)(k,O)(_);t.default=I},268:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.component=t.id=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),f=o(l),p=n(193),d=o(p),m=n(194),y=n(32),h=n(13),v=n(190),b=n(231),g=n(192),w=n(198),_=o(w),O=n(188),k=t.id="mine",I=null,S=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInput=n.onInput.bind(n),n}return s(t,e),c(t,[{key:"onInput",value:function(e){if("e1"===e.kId)I=(0,b.createSample)(),this.props.setFSMState(k,r({},O.constants.fsm.keys.state,"in")),this.props.onInput(_.default.message(this.props.kId));else switch(this.props.fsm.state){case"in":"mine"===e.kId?(this.props.addItem(O.constants.fsm.actions.inventory,I.type,I.id,I),this.props.setFSMState(k,r({},O.constants.fsm.keys.state,"fin")),I=(0,b.createSample)()):"look"===e.kId?(I=(0,b.createSample)(),this.props.setFSMState(k,r({},O.constants.fsm.keys.state,"in"))):"back"===e.kId&&this.props.onInput(_.default.message(this.props.kId));break;case"fin":"in"===e.kId&&this.props.setFSMState(k,r({},O.constants.fsm.keys.state,"in"))}}},{key:"renderView",value:function(){if(this.props.showEntry)return[f.default.createElement("div",null,f.default.createElement(d.default,u({},O.functions.propKid("e1"),{onInput:this.onInput,text:"mine asteroids"})))];switch(this.props.fsm.state){case"fin":return[f.default.createElement("p",null,"asteroid sample added to inventory"),f.default.createElement(d.default,u({},O.functions.propKid("in"),{onInput:this.onInput,text:"next"}))];case"in":default:return[f.default.createElement("p",null,"there is a "+(I.weight>8?"large":"small")+" asteroid in front of you, mine it?"),f.default.createElement("div",null,f.default.createElement(d.default,u({},O.functions.propKid("mine"),{onInput:this.onInput,text:"mine it"})),f.default.createElement(d.default,u({},O.functions.propKid("look"),{onInput:this.onInput,text:"look for another"})),f.default.createElement(d.default,u({},O.functions.propKid("back"),{onInput:this.onInput,text:"back"})))]}}},{key:"render",value:function(){return this.renderView()}}]),t}(f.default.Component),E=function(e){return(0,h.bindActionCreators)({setFSMState:v.setFSMState,addItem:g.addItem},e)},j=function(e,t){return{fsm:(0,m.selectFsmState)(e,k,r({},O.constants.fsm.keys.state,"in"))}},P=t.component=(0,y.connect)(j,E)(S);t.default=P},269:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.component=t.id=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),f=o(l),p=n(193),d=o(p),m=n(194),y=n(32),h=n(13),v=n(190),b=n(198),g=o(b),w=n(188),_=t.id="inventory",O=null,k=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInput=n.onInput.bind(n),console.log("inventory constructor"),console.log(e),n}return s(t,e),c(t,[{key:"onInput",value:function(e){if("e1"===e.kId)this.props.setFSMState(_,r({},w.constants.fsm.keys.state,"in")),this.props.onInput(g.default.message(this.props.kId));else switch(this.props.fsm.state){case"in":if("back"===e.kId)this.props.onInput(g.default.message(this.props.kId));else if("sample"===e.kId){e.item;this.props.setFSMState(_,r({},w.constants.fsm.keys.state,"sample"))}else O=e.kId,this.setState({item:item});break;case"sample":"sample"===e.kId&&this.props.setFSMState(_,r({},w.constants.fsm.keys.state,"in"))}}},{key:"renderItems",value:function(){var e=this;return Object.keys(this.props.items).map(function(t,n){return e.props.items[t].map(function(n,o){if(!n)return f.default.createElement("div",null,"item undefined");if(t===w.constants.items.asteroidSample){var r=e.props.factory(t);return f.default.createElement("div",null,0==o?f.default.createElement("p",null,t):"",f.default.createElement(r.component,{item:n,showEntry:!0,factory:e.props.factory,onInput:e.onInput,kId:"sample"}))}return t===w.constants.items.stock?f.default.createElement("div",null,0==o?f.default.createElement("p",null,t):"",f.default.createElement("p",null,f.default.createElement("span",null,"element: ",n.id),Object.keys(n).map(function(e){if("id"!=e)return f.default.createElement("span",null," ",e," weight:",n[e])}))):void 0})})}},{key:"renderView",value:function(){if(this.props.showEntry)return[f.default.createElement("div",null,f.default.createElement(d.default,u({},w.functions.propKid("e1"),{onInput:this.onInput,text:"inspect inventory"})))];switch(this.props.fsm.state){case"sample":var e=this.props.factory(w.constants.fsm.items.asteroidSample);return[f.default.createElement(e.component,u({showEntry:!1,factory:this.props.factory,onInput:this.onInput},w.functions.propKid("sample")))];case"in":default:return[f.default.createElement("div",null,f.default.createElement(d.default,u({},w.functions.propKid("back"),{onInput:this.onInput,text:"back"}))),f.default.createElement("div",null,this.renderItems())]}}},{key:"render",value:function(){return this.renderView()}}]),t}(f.default.Component),I=function(e){return(0,h.bindActionCreators)({setFSMState:v.setFSMState},e)},S=function(e,t){return console.log("mapping asteroid samples"),console.log(e),{fsm:(0,m.selectFsmState)(e,_,r({},w.constants.fsm.keys.state,"in")),items:(0,m.selectContained)(e,_)}},E=t.component=(0,y.connect)(S,I)(k);t.default=E},270:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.component=t.id=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),f=o(l),p=n(193),d=o(p),m=n(194),y=n(32),h=n(13),v=n(190),b=n(198),g=o(b),w=n(188),_=t.id="idElem",O=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInput=n.onInput.bind(n),console.log("IdElem constructor ",e),n}return s(t,e),c(t,[{key:"onInput",value:function(e){if("e1"===e[w.constants.IO.kId])this.props.setFSMState(_,r({},w.constants.fsm.keys.state,"in")),this.props.onInput(g.default.message(this.props.kId));else switch(this.props.fsm.state){case"in":"flame"===e[w.constants.IO.kId]?this.props.setFSMState(_,r({},w.constants.fsm.keys.state,"flame")):"sonar"===e[w.constants.IO.kId]?this.props.setFSMState(_,r({},w.constants.fsm.keys.state,"sonar")):"back"===e[w.constants.IO.kId]&&this.props.onInput(g.default.message(this.props.kId));break;case"flame":case"sonar":this.props.onInput(g.default.answer(this.props.kId,{element:e.vId}))}}},{key:"renderView",value:function(){if(this.props.showEntry){var e="element: "+(this.props.item.user.element?this.props.item.user.element:"unknown");return[f.default.createElement("div",null,f.default.createElement(d.default,u({},w.functions.propKid("e1"),{onInput:this.onInput,text:e})))]}switch(this.props.fsm.state){case"sonar":return[f.default.createElement("p",null,"The sample emites a soundwave of 370Hz"),f.default.createElement("div",null,f.default.createElement(d.default,u({},w.functions.propKid("sonar"),{vId:"magnesium",onInput:this.onInput,text:"magnesium"})),f.default.createElement(d.default,u({},w.functions.propKid("sonar"),{vId:"lithium",onInput:this.onInput,text:"lithium"})))];case"flame":return[f.default.createElement("p",null,"The flame is blue, therefore the sample is made of:"),f.default.createElement("div",null,f.default.createElement(d.default,u({},w.functions.propKid("flame"),{vId:"iron",onInput:this.onInput,text:"iron"})),f.default.createElement(d.default,u({},w.functions.propKid("flame"),{vId:"copper",onInput:this.onInput,text:"copper"})))];case"in":default:return[f.default.createElement("p",null,"The sample element is "+this.props.item.type+" id:"+this.props.item.id),f.default.createElement("div",null,f.default.createElement(d.default,u({},w.functions.propKid("flame"),{onInput:this.onInput,text:"use flame test"})),f.default.createElement(d.default,u({},w.functions.propKid("sonar"),{onInput:this.onInput,text:"use sonar test"})),f.default.createElement(d.default,u({},w.functions.propKid("back"),{onInput:this.onInput,text:"back"})))]}}},{key:"render",value:function(){return this.renderView()}}]),t}(f.default.Component),k=function(e){return(0,h.bindActionCreators)({setFSMState:v.setFSMState},e)},I=function(e,t){return{fsm:(0,m.selectFsmState)(e,_,r({},w.constants.fsm.keys.state,"in"))}},S=t.component=(0,y.connect)(I,k)(O);t.default=S},271:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.component=t.id=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),f=o(l),p=n(193),d=o(p),m=n(194),y=n(32),h=n(13),v=n(190),b=n(192),g=n(232),w=n(198),_=o(w),O=n(188),k=t.id=O.constants.fsm.items.asteroidSample,I=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInput=n.onInput.bind(n),console.log("AstSamp constructor"),console.log(e),n}return s(t,e),c(t,[{key:"onInput",value:function(e){if("e1"===e.kId)if(this.props.item){var t;this.props.setFSMState(k,(t={},r(t,O.constants.fsm.keys.state,"in"),r(t,O.constants.fsm.keys.item,this.props.item.id),r(t,O.constants.fsm.keys.itemType,this.props.item.type),t)),this.props.onInput(_.default.item(this.props.kId,this.props.item))}else console.log("error, no item in asteroid sample onInput entry");else switch(this.props.fsm.state){case"in":if("aid"===e.kId)this.props.setFSMState(k,r({},O.constants.fsm.keys.state,"aid"));else if("back"===e.kId)this.props.onInput(_.default.message(this.props.kId));else if("stock"===e.kId){var n=this.props.item,o=this.props.stocks[n.user.element];o||(o=(0,g.createStock)(n.user.element)),o=(0,g.addToStock)(o,n.element,n.weight),this.props.addItem(O.constants.fsm.actions.inventory,O.constants.items.stock,n.user.element,o),this.props.deleteItem(O.constants.fsm.actions.inventory,O.constants.items.asteroidSample,n.id,n),this.props.onInput(_.default.message(this.props.kId))}break;case"aid":var i=e.element;this.props.editUserAns(this.props.item,O.constants.items.element,i),this.props.setFSMState(k,r({},O.constants.fsm.keys.state,"in"))}}},{key:"renderView",value:function(){if(!this.props.item)return f.default.createElement("p",null,"Waiting for item...");if(this.props.showEntry){var e="item: element: "+(this.props.item.user.element?this.props.item.user.element:"unknown");return[f.default.createElement(d.default,u({},O.functions.propKid("e1"),{onInput:this.onInput,text:e}))]}switch(this.props.fsm.state){case"aid":var t=this.props.factory(O.constants.fsm.questions.idElem);return[f.default.createElement(t.component,u({item:this.props.item,showEntry:!1,factory:this.props.factory,onInput:this.onInput},O.functions.propKid("aid")))];case"in":default:var n=this.props.factory(O.constants.fsm.questions.idElem);return[f.default.createElement("p",null,"asteroid sample: ",this.props.item.id,":",f.default.createElement(n.component,u({item:this.props.item,showEntry:!0,factory:this.props.factory,onInput:this.onInput},O.functions.propKid("aid"))),"weight: ",this.props.item.user.weight?this.props.item.user.weight:"unknown"),f.default.createElement(d.default,u({},O.functions.propKid("stock"),{onInput:this.onInput,text:"add to stock",disabled:!this.props.item.user.element})),f.default.createElement(d.default,u({},O.functions.propKid("back"),{onInput:this.onInput,text:"back"}))]}}},{key:"render",value:function(){return this.renderView()}}]),t}(f.default.Component),S=function(e){return(0,h.bindActionCreators)({setFSMState:v.setFSMState,editUserAns:b.editUserAns,addItem:b.addItem,deleteItem:b.deleteItem},e)},E=function(e,t){var n=(0,m.selectFsmState)(e,O.constants.fsm.items.asteroidSample,r({},O.constants.fsm.keys.state,"in")),o=n[O.constants.fsm.keys.item],i=n[O.constants.fsm.keys.itemType];return{fsm:n,item:t.item?t.item:o?e.items[i][o]:null,stocks:e.items[O.constants.items.stock]}},j=t.component=(0,y.connect)(E,S)(I);t.default=j},272:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.component=t.id=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=n(32),l=n(13),f=n(188),p=(t.id=f.constants.items.engine,function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),a(t,[{key:"renderView",value:function(){console.log("rendering engine view, state: "+this.props.engine.state);var e="the engine is running at "+this.props.engine.temp;return this.props.engine.state===f.constants.sim.engine.overheat?u.default.createElement("p",null,e,". It's overheating"):this.props.engine.state===f.constants.sim.engine.exploded?u.default.createElement("p",null,"The engine has exploded, it's not working"):u.default.createElement("p",null,e,". The engine is running within its tolerant range")}},{key:"render",value:function(){return this.renderView()}}]),t}(u.default.Component)),d=function(e){return(0,l.bindActionCreators)({},e)},m=function(e,t){return{engine:e.items.ship.engine}};t.component=(0,c.connect)(m,d)(p)},273:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.component=t.id=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),f=o(l),p=n(32),d=n(13),m=n(188),y=n(190),h=n(194),v=n(193),b=o(v),g=n(198),w=o(g),_=t.id=m.constants.items.sequence,O=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInput=n.onInput.bind(n),console.log("sequence constructor",e),n}return s(t,e),c(t,[{key:"onInput",value:function(e){if("e1"===e.kId)if(this.props.item){var t;this.props.setFSMState(_,(t={},r(t,m.constants.fsm.keys.state,"in"),r(t,m.constants.fsm.keys.item,this.props.item.id),r(t,m.constants.fsm.keys.itemType,this.props.item.type),t)),this.props.onInput(w.default.item(this.props.kId,this.props.item))}else console.log("error, no item in asteroid sample onInput entry")}},{key:"renderItem",value:function(){var e=[];return e.push(f.default.createElement("p",null,"A detailed view of the sequence")),e}},{key:"renderView",value:function(){if(!this.props.item)return f.default.createElement("p",null,"Waiting for item...");if(this.props.showEntry){return[f.default.createElement(b.default,u({},m.functions.propKid("e1"),{onInput:this.onInput,text:"a sequence"}))]}switch(this.props.fsm.state){case"in":default:return this.renderItem()}}},{key:"render",value:function(){return this.renderView()}}]),t}(f.default.Component),k=function(e){return(0,d.bindActionCreators)({setFSMState:y.setFSMState},e)},I=function(e,t){var n=(0,h.selectFsmState)(e,m.constants.items.sequence,r({},m.constants.fsm.keys.state,"in"));console.log("sequence fsm",n),console.log("sequence map state to props, recieving props",t);var o=n[m.constants.fsm.keys.item],i=n[m.constants.fsm.keys.itemType];return{fsm:n,item:t.item?t.item:o?e.items[i][o]:null,stocks:e.items[m.constants.items.stock]}},S=t.component=(0,p.connect)(I,k)(O);t.default=S},274:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=n(32),l=n(13),f=n(196),p=n(192),d=n(275),m=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.update=n.update.bind(n),n.play=n.play.bind(n),n.pause=n.pause.bind(n),n.state={interval:null},n}return i(t,e),a(t,[{key:"componentDidMount",value:function(){this.play()}},{key:"componentWillUnmount",value:function(){this.pause()}},{key:"componentDidUpdate",value:function(e,t){e.play!=this.props.play&&(this.props.play?this.play():this.pause())}},{key:"play",value:function(){if(!this.state.interval&&this.props.play){var e=setInterval(this.update,1e3);this.setState({interval:e})}}},{key:"pause",value:function(){this.state.interval&&(clearInterval(this.state.interval),this.setState({interval:null}))}},{key:"update",value:function(){var e=this;console.log("simulation updating");var t=(0,d.update)(this.props.state);console.log("update actions",t),t.map(function(t){e.props.dispatchAny(t)})}},{key:"render",value:function(){return null}}]),t}(u.default.Component),y=function(e){return(0,l.bindActionCreators)({dispatchAny:f.dispatchAny,editItem:p.editItem},e)},h=function(e){return console.log("map sim state"),console.log(e),{state:{sim:e.simulation.sim,items:e.items},play:e.simulation.ui.play}};t.default=(0,c.connect)(h,y)(m)},275:function(e,t,n){"use strict";function o(e){var t=[],n=e.items[a.constants.items.ship][a.constants.items.engine],o=e.sim.temp;return console.log("updateShip engine temp = "+n.temp+" sim temp = "+o),n.temp<o?t.push((0,u.editItem)(a.constants.items.ship,a.constants.items.engine,{state:a.constants.sim.engine.exploded})):n.temp<o-10&&t.push((0,u.editItem)(a.constants.items.ship,a.constants.items.engine,{state:a.constants.sim.engine.overheat})),t}function r(e,t){var n=e.sim.t;return t.t=n+1,t}function i(e,t){var n=e.sim.temp;return t.temp=n+Math.random(),t}Object.defineProperty(t,"__esModule",{value:!0}),t.update=void 0;var a=n(188),s=n(196),u=n(192);t.update=function(e){console.log("simulation state",e);var t={},n=[];t=r(e,t),t=i(e,t),n.push((0,s.nextStep)(t));var a=o(e);return n=n.concat(a),console.log("update actions after ship",n),n}},276:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=n(32),l=n(13),f=n(196),p=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleInput=n.handleInput.bind(n),n}return i(t,e),a(t,[{key:"handleInput",value:function(e){console.log("handle click input, play  "+e),this.props.playSim(e)}},{key:"render",value:function(){var e=this;return u.default.createElement("div",null,u.default.createElement("button",{onClick:function(){e.handleInput(!0)}},"play"),u.default.createElement("button",{onClick:function(){e.handleInput(!1)}},"pause"))}}]),t}(u.default.Component),d=function(e){return{play:e.simulation.ui.play}},m=function(e){return(0,l.bindActionCreators)({playSim:f.playSim},e)};t.default=(0,c.connect)(d,m)(p)},277:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=n(32),l=n(13),f=n(231),p=n(278),d=n(188),m=n(192),y=n(232),h=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"componentDidMount",value:function(){if(console.log("initialization beginning"),Object.keys(this.props.state.items[d.constants.items.asteroidSample]).length<3){console.log("initializaing asteroid samples");for(var e=void 0,t=0;t<3;t++)e=this.props.createSample(),this.props.addItem(d.constants.fsm.actions.inventory,d.constants.items.asteroidSample,e.id,e);var n=(0,y.createStock)(e.element);n=(0,y.addToStock)(n,e.element,e.weight),this.props.addItem(d.constants.fsm.actions.inventory,d.constants.items.stock,e.element,n),this.props.deleteItem(d.constants.fsm.actions.inventory,d.constants.items.asteroidSample,e.id,e)}var o=this.props.createSequence();this.props.addItem(d.constants.fsm.zones.lounge,d.constants.items.sequence,o.id,o)}},{key:"render",value:function(){return null}}]),t}(u.default.Component),v=function(e){return(0,l.bindActionCreators)({createSample:f.createSample,addItem:m.addItem,deleteItem:m.deleteItem,createSequence:p.create},e)},b=function(e){return{state:e}};t.default=(0,c.connect)(b,v)(h)},278:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;var o=n(188);t.create=function(){var e=Math.floor(20*Math.random())-10,t=Math.floor(5*Math.random())+2;return{id:"arithmetic",type:o.constants.items.sequence,ex:o.expressions.arithmeticSequence,sequence:"arithmetic",a1:e,d:t,terms:[e,e+t],user:{sequence:null,expression:null,a1:null,d:null}}}}});