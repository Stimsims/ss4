webpackJsonp([7,8],{187:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.functions=t.constants=void 0;var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.constants={fsm:{keys:{state:"state",item:"itemId",itemType:"itemType"},zones:{lounge:"lounge",control:"control"},actions:{mine:"mine",inventory:"inventory"},questions:{idElem:"idElem"},items:{asteroidSample:"asteroidSample"}},sim:{engine:{ok:"ok",overheat:"overheat",exploded:"explo"}},IO:{vId:"vId",kId:"kId"},items:{asteroidSample:"asteroidSample",element:"element",weight:"weight",stock:"stock",ship:"ship",engine:"engine",hull:"hull"},relations:{contains:"contains"},elements:{iron:{shc:20},copper:{shc:10},potassium:{shc:30},chromium:{shc:10}}},t.functions={propKid:function(e){return{kId:e}},componentTag:function(e,t){return o.default.createElement("tag",t)}}},189:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return console.log("action set zone"),{type:"SET_ZONE",payload:{zone:e,state:t}}}function i(e,t){return{type:"SET_FSM_STATE",payload:{id:e,state:t}}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.setZone=o,t.setFSMState=i;t.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_FSM_STATE":return console.log("action setfsm "+t.payload.id),a({},e,r({},t.payload.id,a({},e[t.payload.id],t.payload.state)));default:return e}}},190:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=(n(17),function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return i(t,e),a(t,[{key:"handleClick",value:function(){var e={kId:this.props.kId,vId:this.props.vId};console.log("button input"),console.log(e),this.props.onInput(e)}},{key:"render",value:function(){return this.props.disabled?u.default.createElement("button",{onClick:this.handleClick,disabled:!0}," ",this.props.text):u.default.createElement("button",{onClick:this.handleClick}," ",this.props.text)}}]),t}(u.default.Component));t.default=l},191:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectContained=t.selectFsmState=void 0;var r=(n(237),n(187));(function(e){e&&e.__esModule})(r),t.selectFsmState=function(e,t,n){var r=e.fsm[t];return r||n},t.selectContained=function(e,t){var n=e.relations.contains[t];if(n){var r={};for(var o in n)if(n.hasOwnProperty(o)){var i=n[o],a=i.map(function(t){return e.items[o][t]});r[o]=a}return r}return{}}},193:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n,r){return console.log("action addItem "+e+" type "+t+" id "+n),{type:"ADD_ITEM",payload:{container:e,type:t,id:n,item:r}}}function i(e,t,n,r){return console.log("action deleteItem "+e+" type "+t+" id "+n),{type:"DEL_ITEM",payload:{container:e,type:t,id:n,item:r}}}function a(e,t,n){return console.log("action edit item key "+t+" val "+n),{type:"EDIT_USER_ANS",payload:{item:e,key:t,val:n}}}Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.addItem=o,t.deleteItem=i,t.editUserAns=a;var u=n(187);t.reducer=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(t={},r(t,u.constants.items.ship,(e={},r(e,u.constants.items.engine,{id:u.constants.items.engine,element:"iron",temp:u.constants.elements.iron.shc,state:u.constants.sim.engine.ok}),r(e,u.constants.items.hull,{id:u.constants.items.hull,element:"iron",temp:u.constants.elements.iron.shc,state:u.constants.sim.engine.ok}),e)),r(t,u.constants.items.asteroidSample,{}),r(t,u.constants.items.stock,{}),t),o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(o.type){case"ADD_ITEM":return console.log("items reducer add sample"),s({},n,r({},o.payload.type,s({},n[o.payload.type],r({},o.payload.id,o.payload.item))));case"DEL_ITEM":console.log("items reducer del item");var i=s({},n[o.payload.type]);return delete i[o.payload.id],s({},n,r({},o.payload.type,i));case"EDIT_USER_ANS":var a=s({},o.payload.item,{user:s({},o.payload.item.user,r({},o.payload.key,o.payload.val))});return s({},n,r({},o.payload.item.type,s({},n[o.payload.item.type],r({},o.payload.item.id,a))));default:return n}}},194:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o={message:function(e){return{kId:e}},item:function(e,t){return{kId:e,item:t}},answer:function(e,t){return r({kId:e},t)}};t.default=o},195:function(e,t,n){"use strict";function r(e){return e}function o(e){return{type:"NEXT_STEP",payload:{step:e}}}function i(e){return{type:"PLAY_SIM",payload:{play:e}}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.dispatchAny=r,t.nextStep=o,t.playSim=i;t.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ui:{play:!0},sim:{t:0,temp:20}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"NEXT_STEP":return a({},e,{sim:a({},e.sim,t.payload.step)});case"PLAY_SIM":return a({},e,{ui:a({},e.ui,{play:t.payload.play})});default:return e}}},202:function(e,t,n){"use strict";function r(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}Object.defineProperty(t,"__esModule",{value:!0}),t.guid=r},203:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getRandomItem=function(e){return e[Math.floor(e.length*Math.random())]}},214:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=r(u),c=(n(64),n(17),n(233)),p=r(c),f=function(e){function t(e){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"render",value:function(){return l.default.createElement("div",null,l.default.createElement(p.default,null))}}]),t}(l.default.Component);t.default=f},215:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSample=void 0;var r=n(203),o=n(202),i=n(187);console.log("creating samples");var a=Object.keys(i.constants.elements);console.log("create sample materials",a);t.createSample=function(){var e=(0,r.getRandomItem)(a);return{id:(0,o.guid)(),type:i.constants.items.asteroidSample,game:{element:e,weight:10*Math.random()+3},user:{element:null,weight:null}}}},216:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addToStock=t.createStock=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n(187),t.createStock=function(e){return{id:e}},t.addToStock=function(e,t,n){var o=r({},e),i=0;return e[t]&&(i=e[t]),o[t]=i+n,console.log("addToStock",o),o}},225:function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=r(u),c=n(64),p=n(17),f=n(69),d=r(f),m=n(265),y=r(m),h=n(214),v=r(h);"undefined"==typeof window&&(e.window={});var b=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return console.log("index constructor "),console.log(y.default),n.store=(0,p.createStore)(y.default,{},(0,p.applyMiddleware)(d.default)),console.log("sub store created"),n}return a(t,e),s(t,[{key:"render",value:function(){return l.default.createElement("div",null,l.default.createElement(c.Provider,{store:this.store},l.default.createElement("div",null,l.default.createElement(v.default,{game:this.props.game}))))}}]),t}(l.default.Component);t.default=b}).call(t,n(4))},233:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=r(u),c=n(234),p=r(c),f=n(244),d=r(f),m=n(246),y=r(m),h=n(247),v=r(h),b=function(e){function t(e){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"render",value:function(){return l.default.createElement("div",null,l.default.createElement(v.default,null),l.default.createElement(y.default,null),l.default.createElement(d.default,null),l.default.createElement(p.default,null))}}]),t}(l.default.Component);t.default=b},234:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=r(u),c=n(235),p=r(c),f=n(64),d=(n(17),function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return console.log("game props"),console.log(e),n.getFSM=n.getFSM.bind(n),n.state={},n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.getFSM(this.props.zone)}},{key:"componentWillUpdate",value:function(e,t){if(console.log("component will update, is there a different zone? "+(e.zone!==t.fsm.id)),e.zone!==t.fsm.id){var n=e.zone;this.getFSM(n)}}},{key:"getFSM",value:function(e){var t=(0,p.default)(e);this.setState({fsm:t})}},{key:"renderFSM",value:function(){if(this.state.fsm)return l.default.createElement(this.state.fsm.component,{id:this.state.fsm.id,showEntry:!1,factory:p.default})}},{key:"render",value:function(){return l.default.createElement("div",null,l.default.createElement("p",null,"current zone: ",this.props.zone),this.renderFSM())}}]),t}(l.default.Component)),m=function(e,t){return{zone:e.game.zone}};t.default=(0,f.connect)(m)(d)},235:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var o=n(236),i=r(o),a=n(238),s=r(a),u=n(239),l=r(u),c=n(240),p=r(c),f=n(241),d=r(f),m=n(242),y=r(m),h=n(243),v=r(h);t.default=function(e){switch(console.log("factory name"+e),e){case s.id:return s;case i.id:return i;case l.id:return l;case p.id:return p;case d.id:return d;case y.id:return y;case v.id:return v}}},236:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.component=t.Lounge=t.id=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(190),d=r(f),m=n(191),y=n(64),h=n(17),v=n(189),b=n(187),g=t.id="lounge",_=t.Lounge=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInput=n.onInput.bind(n),n}return s(t,e),l(t,[{key:"onInput",value:function(e){if("e1"===e[b.constants.IO.kId])this.props.setZone(g,"in");else switch(this.props.fsm.state){case"inv":"inv"===e[b.constants.IO.kId]&&this.props.setFSMState(g,o({},b.constants.fsm.keys.state,"in"));break;case"in":default:"inv"===e[b.constants.IO.kId]&&this.props.setFSMState(g,o({},b.constants.fsm.keys.state,"inv"))}}},{key:"renderView",value:function(){if(this.props.showEntry)return[p.default.createElement("div",null,"entry to lounge",p.default.createElement(d.default,{kId:"e1",onInput:this.onInput,text:"go to lounge"}))];switch(this.props.fsm.state){case"inv":var e=this.props.factory(b.constants.fsm.actions.inventory);return[p.default.createElement(e.component,u({showEntry:!1,factory:this.props.factory,onInput:this.onInput},b.functions.propKid("inv")))];case"in":default:var t=this.props.factory("control"),n=this.props.factory(b.constants.fsm.actions.inventory);return[p.default.createElement("div",null,"inside lounge",p.default.createElement(t.component,u({showEntry:!0,factory:this.props.factory,onInput:this.onInput},b.functions.propKid("ic"))),p.default.createElement(n.component,u({showEntry:!0,factory:this.props.factory,onInput:this.onInput},b.functions.propKid("inv"))))]}}},{key:"render",value:function(){return this.renderView()}}]),t}(p.default.Component),w=function(e){return(0,h.bindActionCreators)({setZone:v.setZone,setFSMState:v.setFSMState},e)},O=function(e,t){return{fsm:(0,m.selectFsmState)(e,g,o({},b.constants.fsm.keys.state,"in"))}},I=t.component=(0,y.connect)(O,w)(_);t.default=I},237:function(e,t,n){"use strict";function r(e,t){return e===t}function o(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,i=null;return function(){return o(t,n,arguments)||(i=e.apply(null,arguments)),n=arguments,i}}function a(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var s=0,u=r.pop(),l=a(r),c=e.apply(void 0,[function(){return s++,u.apply(null,arguments)}].concat(n)),p=i(function(){for(var e=[],t=l.length,n=0;n<t;n++)e.push(l[n].apply(null,arguments));return c.apply(null,e)});return p.resultFunc=u,p.recomputations=function(){return s},p.resetRecomputations=function(){return s=0},p}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})}t.__esModule=!0,t.defaultMemoize=i,t.createSelectorCreator=s,t.createStructuredSelector=u;var l=t.createSelector=s(i)},238:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.component=t.id=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(190),d=r(f),m=n(191),y=n(64),h=n(17),v=n(189),b=n(193),g=n(187),_=n(203),w=t.id="control",O=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInput=n.onInput.bind(n),console.log("control constructor"),console.log(e),n}return s(t,e),l(t,[{key:"onInput",value:function(e){if("e1"===e.kId)this.props.setZone(w,"in");else switch(this.props.fsm.state){case"in":"mine"===e.kId?this.props.setZone(w,"mine"):e.kId===g.constants.items.engine?console.log("input, updating engine material to "+e.vId):e.kId===g.constants.items.hull&&console.log("input, updating hull material to "+e.vId);break;case"mine":"mine"===e.kId&&this.props.setFSMState(w,o({},g.constants.fsm.keys.state,"in"))}}},{key:"renderShip",value:function(){var e=this;return this.props.items.ship?this.props.items.ship.map(function(t,n){var r=(0,_.getRandomItem)(Object.keys(g.constants.elements));return console.log("rendering ship element",t),p.default.createElement("div",null,p.default.createElement("p",null,"ship part ",t.id,", element: ",t.element,", temperature tolerance ",t.temp),p.default.createElement(d.default,{kId:t.id,vId:r,onInput:e.onInput,text:r}))}):p.default.createElement("p",null,"there is no ship")}},{key:"renderView",value:function(){if(this.props.showEntry)return[p.default.createElement("div",null,p.default.createElement(d.default,{kId:"e1",onInput:this.onInput,text:"go to control"}))];switch(this.props.fsm.state){case"mine":var e=this.props.factory(g.constants.fsm.actions.mine);return[p.default.createElement(e.component,u({showEntry:!1,factory:this.props.factory,onInput:this.onInput},g.functions.propKid("mine")))];case"in":default:var t=this.props.factory("lounge"),n=this.props.factory(g.constants.fsm.actions.mine);return[p.default.createElement("div",null,this.renderShip()),p.default.createElement("div",null,"inside control room",p.default.createElement(t.component,u({showEntry:!0,factory:this.props.factory,onInput:this.onInput},g.functions.propKid("l1"))),p.default.createElement(n.component,u({showEntry:!0,factory:this.props.factory,onInput:this.onInput},g.functions.propKid("mine"))))]}}},{key:"render",value:function(){return this.renderView()}}]),t}(p.default.Component),I=function(e){return(0,h.bindActionCreators)({setZone:v.setZone,setFSMState:v.setFSMState,editUserAns:b.editUserAns},e)},k=function(e,t){return{fsm:(0,m.selectFsmState)(e,w,o({},g.constants.fsm.keys.state,"in")),items:(0,m.selectContained)(e,t.id)}},E=t.component=(0,y.connect)(k,I)(O);t.default=E},239:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.component=t.id=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(190),d=r(f),m=n(191),y=n(64),h=n(17),v=n(189),b=n(215),g=n(193),_=n(194),w=r(_),O=n(187),I=t.id="mine",k=null,E=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInput=n.onInput.bind(n),n}return s(t,e),l(t,[{key:"onInput",value:function(e){if("e1"===e.kId)k=(0,b.createSample)(),this.props.setFSMState(I,o({},O.constants.fsm.keys.state,"in")),this.props.onInput(w.default.message(this.props.kId));else switch(this.props.fsm.state){case"in":"mine"===e.kId?(this.props.addItem(O.constants.fsm.actions.inventory,k.type,k.id,k),this.props.setFSMState(I,o({},O.constants.fsm.keys.state,"fin")),k=(0,b.createSample)()):"look"===e.kId?(k=(0,b.createSample)(),this.props.setFSMState(I,o({},O.constants.fsm.keys.state,"in"))):"back"===e.kId&&this.props.onInput(w.default.message(this.props.kId));break;case"fin":"in"===e.kId&&this.props.setFSMState(I,o({},O.constants.fsm.keys.state,"in"))}}},{key:"renderView",value:function(){if(this.props.showEntry)return[p.default.createElement("div",null,p.default.createElement(d.default,u({},O.functions.propKid("e1"),{onInput:this.onInput,text:"mine asteroids"})))];switch(this.props.fsm.state){case"fin":return[p.default.createElement("p",null,"asteroid sample added to inventory"),p.default.createElement(d.default,u({},O.functions.propKid("in"),{onInput:this.onInput,text:"next"}))];case"in":default:return[p.default.createElement("p",null,"there is a "+(k.game.weight>8?"large":"small")+" asteroid in front of you, mine it?"),p.default.createElement("div",null,p.default.createElement(d.default,u({},O.functions.propKid("mine"),{onInput:this.onInput,text:"mine it"})),p.default.createElement(d.default,u({},O.functions.propKid("look"),{onInput:this.onInput,text:"look for another"})),p.default.createElement(d.default,u({},O.functions.propKid("back"),{onInput:this.onInput,text:"back"})))]}}},{key:"render",value:function(){return this.renderView()}}]),t}(p.default.Component),j=function(e){return(0,h.bindActionCreators)({setFSMState:v.setFSMState,addItem:g.addItem},e)},S=function(e,t){return{fsm:(0,m.selectFsmState)(e,I,o({},O.constants.fsm.keys.state,"in"))}},P=t.component=(0,y.connect)(S,j)(E);t.default=P},240:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.component=t.id=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(190),d=r(f),m=n(191),y=n(64),h=n(17),v=n(189),b=n(194),g=r(b),_=n(187),w=t.id="inventory",O=null,I=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInput=n.onInput.bind(n),n}return s(t,e),l(t,[{key:"onInput",value:function(e){if("e1"===e.kId)this.props.setFSMState(w,o({},_.constants.fsm.keys.state,"in")),this.props.onInput(g.default.message(this.props.kId));else switch(this.props.fsm.state){case"in":if("back"===e.kId)this.props.onInput(g.default.message(this.props.kId));else if("sample"===e.kId){e.item;this.props.setFSMState(w,o({},_.constants.fsm.keys.state,"sample"))}else O=e.kId,this.setState({item:item});break;case"sample":"sample"===e.kId&&this.props.setFSMState(w,o({},_.constants.fsm.keys.state,"in"))}}},{key:"renderItems",value:function(){var e=this;return Object.keys(this.props.items).map(function(t,n){return e.props.items[t].map(function(n,r){if(!n)return p.default.createElement("div",null,"item undefined");if(t===_.constants.items.asteroidSample){var o=e.props.factory(t);return p.default.createElement("div",null,0==r?p.default.createElement("p",null,t):"",p.default.createElement(o.component,{item:n,showEntry:!0,factory:e.props.factory,onInput:e.onInput,kId:"sample"}))}return t===_.constants.items.stock?p.default.createElement("div",null,0==r?p.default.createElement("p",null,t):"",p.default.createElement("p",null,p.default.createElement("span",null,"element: ",n.id),Object.keys(n).map(function(e){if("id"!=e)return p.default.createElement("span",null," ",e," weight:",n[e])}))):void 0})})}},{key:"renderView",value:function(){if(this.props.showEntry)return[p.default.createElement("div",null,p.default.createElement(d.default,u({},_.functions.propKid("e1"),{onInput:this.onInput,text:"inspect inventory"})))];switch(this.props.fsm.state){case"sample":var e=this.props.factory(_.constants.fsm.items.asteroidSample);return[p.default.createElement(e.component,u({showEntry:!1,factory:this.props.factory,onInput:this.onInput},_.functions.propKid("sample")))];case"in":default:return[p.default.createElement("div",null,p.default.createElement(d.default,u({},_.functions.propKid("back"),{onInput:this.onInput,text:"back"}))),p.default.createElement("div",null,this.renderItems())]}}},{key:"render",value:function(){return this.renderView()}}]),t}(p.default.Component),k=function(e){return(0,h.bindActionCreators)({setFSMState:v.setFSMState},e)},E=function(e,t){return{fsm:(0,m.selectFsmState)(e,w,o({},_.constants.fsm.keys.state,"in")),items:(0,m.selectContained)(e,w)}},j=t.component=(0,y.connect)(E,k)(I);t.default=j},241:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.component=t.id=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(190),d=r(f),m=n(191),y=n(64),h=n(17),v=n(189),b=n(194),g=r(b),_=n(187),w=t.id="idElem",O=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInput=n.onInput.bind(n),n}return s(t,e),l(t,[{key:"onInput",value:function(e){if("e1"===e[_.constants.IO.kId])this.props.setFSMState(w,o({},_.constants.fsm.keys.state,"in")),this.props.onInput(g.default.message(this.props.kId));else switch(this.props.fsm.state){case"in":"flame"===e[_.constants.IO.kId]?this.props.setFSMState(w,o({},_.constants.fsm.keys.state,"flame")):"sonar"===e[_.constants.IO.kId]?this.props.setFSMState(w,o({},_.constants.fsm.keys.state,"sonar")):"back"===e[_.constants.IO.kId]&&this.props.onInput(g.default.message(this.props.kId));break;case"flame":case"sonar":this.props.onInput(g.default.answer(this.props.kId,{element:e.vId}))}}},{key:"renderView",value:function(){if(this.props.showEntry){var e="element: "+(this.props.item.user.element?this.props.item.user.element:"unknown");return[p.default.createElement("div",null,p.default.createElement(d.default,u({},_.functions.propKid("e1"),{onInput:this.onInput,text:e})))]}switch(this.props.fsm.state){case"sonar":return[p.default.createElement("p",null,"The sample emites a soundwave of 370Hz"),p.default.createElement("div",null,p.default.createElement(d.default,u({},_.functions.propKid("sonar"),{vId:"magnesium",onInput:this.onInput,text:"magnesium"})),p.default.createElement(d.default,u({},_.functions.propKid("sonar"),{vId:"lithium",onInput:this.onInput,text:"lithium"})))];case"flame":return[p.default.createElement("p",null,"The flame is blue, therefore the sample is made of:"),p.default.createElement("div",null,p.default.createElement(d.default,u({},_.functions.propKid("flame"),{vId:"iron",onInput:this.onInput,text:"iron"})),p.default.createElement(d.default,u({},_.functions.propKid("flame"),{vId:"copper",onInput:this.onInput,text:"copper"})))];case"in":default:return[p.default.createElement("p",null,"The sample element is "+this.props.item.type+" id:"+this.props.item.id),p.default.createElement("div",null,p.default.createElement(d.default,u({},_.functions.propKid("flame"),{onInput:this.onInput,text:"use flame test"})),p.default.createElement(d.default,u({},_.functions.propKid("sonar"),{onInput:this.onInput,text:"use sonar test"})),p.default.createElement(d.default,u({},_.functions.propKid("back"),{onInput:this.onInput,text:"back"})))]}}},{key:"render",value:function(){return this.renderView()}}]),t}(p.default.Component),I=function(e){return(0,h.bindActionCreators)({setFSMState:v.setFSMState},e)},k=function(e,t){return{fsm:(0,m.selectFsmState)(e,w,o({},_.constants.fsm.keys.state,"in"))}},E=t.component=(0,y.connect)(k,I)(O);t.default=E},242:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.component=t.id=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(190),d=r(f),m=n(191),y=n(64),h=n(17),v=n(189),b=n(193),g=n(216),_=n(194),w=r(_),O=n(187),I=t.id=O.constants.fsm.items.asteroidSample,k=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInput=n.onInput.bind(n),n}return s(t,e),l(t,[{key:"onInput",value:function(e){if("e1"===e.kId)if(this.props.item){var t;this.props.setFSMState(I,(t={},o(t,O.constants.fsm.keys.state,"in"),o(t,O.constants.fsm.keys.item,this.props.item.id),o(t,O.constants.fsm.keys.itemType,this.props.item.type),t)),this.props.onInput(w.default.item(this.props.kId,this.props.item))}else console.log("error, no item in asteroid sample onInput entry");else switch(this.props.fsm.state){case"in":if("aid"===e.kId)this.props.setFSMState(I,o({},O.constants.fsm.keys.state,"aid"));else if("back"===e.kId)this.props.onInput(w.default.message(this.props.kId));else if("stock"===e.kId){var n=this.props.item,r=this.props.stocks[n.user.element];r||(r=(0,g.createStock)(n.user.element)),r=(0,g.addToStock)(r,n.game.element,n.game.weight),this.props.addItem(O.constants.fsm.actions.inventory,O.constants.items.stock,n.user.element,r),this.props.deleteItem(O.constants.fsm.actions.inventory,O.constants.items.asteroidSample,n.id,n),this.props.onInput(w.default.message(this.props.kId))}break;case"aid":var i=e.element;this.props.editUserAns(this.props.item,O.constants.items.element,i),this.props.setFSMState(I,o({},O.constants.fsm.keys.state,"in"))}}},{key:"renderView",value:function(){if(!this.props.item)return p.default.createElement("p",null,"Waiting for item...");if(this.props.showEntry){var e="item: element: "+(this.props.item.user.element?this.props.item.user.element:"unknown");return[p.default.createElement(d.default,u({},O.functions.propKid("e1"),{onInput:this.onInput,text:e}))]}switch(this.props.fsm.state){case"aid":var t=this.props.factory(O.constants.fsm.questions.idElem);return[p.default.createElement(t.component,u({item:this.props.item,showEntry:!1,factory:this.props.factory,onInput:this.onInput},O.functions.propKid("aid")))];case"in":default:var n=this.props.factory(O.constants.fsm.questions.idElem);return[p.default.createElement("p",null,"asteroid sample: ",this.props.item.id,":",p.default.createElement(n.component,u({item:this.props.item,showEntry:!0,factory:this.props.factory,onInput:this.onInput},O.functions.propKid("aid"))),"weight: ",this.props.item.user.weight?this.props.item.user.weight:"unknown"),p.default.createElement(d.default,u({},O.functions.propKid("stock"),{onInput:this.onInput,text:"add to stock",disabled:!this.props.item.user.element})),p.default.createElement(d.default,u({},O.functions.propKid("back"),{onInput:this.onInput,text:"back"}))]}}},{key:"render",value:function(){return this.renderView()}}]),t}(p.default.Component),E=function(e){return(0,h.bindActionCreators)({setFSMState:v.setFSMState,editUserAns:b.editUserAns,addItem:b.addItem,deleteItem:b.deleteItem},e)},j=function(e,t){var n=(0,m.selectFsmState)(e,O.constants.fsm.items.asteroidSample,o({},O.constants.fsm.keys.state,"in")),r=n[O.constants.fsm.keys.item],i=n[O.constants.fsm.keys.itemType];return{fsm:n,item:t.item?t.item:r?e.items[i][r]:null,stocks:e.items[O.constants.items.stock]}},S=t.component=(0,y.connect)(j,E)(k);t.default=S},243:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.id=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(64),c=n(17),p=n(193),f=(t.id="engine",function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"renderView",value:function(){return u.default.createElement("p",null,"the engine is okay")}},{key:"render",value:function(){return this.renderView()}}]),t}(u.default.Component)),d=function(e){return{engine:e.items.engine}},m=function(e){return(0,c.bindActionCreators)({editUserAns:p.editUserAns},e)};t.default=(0,l.connect)(d,m)(f)},244:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(64),c=n(17),p=n(195),f=n(245),d=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.update=n.update.bind(n),n.play=n.play.bind(n),n.pause=n.pause.bind(n),n.state={interval:null},n}return i(t,e),a(t,[{key:"componentDidMount",value:function(){this.play()}},{key:"componentWillUnmount",value:function(){this.pause()}},{key:"componentDidUpdate",value:function(e,t){e.play!=this.props.play&&(this.props.play?this.play():this.pause())}},{key:"play",value:function(){if(!this.state.interval&&this.props.play){var e=setInterval(this.update,1e4);this.setState({interval:e})}}},{key:"pause",value:function(){this.state.interval&&(clearInterval(this.state.interval),this.setState({interval:null}))}},{key:"update",value:function(){var e=this;console.log("simulation updating");var t=(0,f.update)(this.props.state);console.log("update actions",t),t.map(function(t){e.props.dispatchAny(t)})}},{key:"render",value:function(){return null}}]),t}(u.default.Component),m=function(e){return(0,c.bindActionCreators)({dispatchAny:p.dispatchAny},e)},y=function(e){return console.log("map sim state"),console.log(e),{state:{sim:e.simulation.sim},play:e.simulation.ui.play}};t.default=(0,l.connect)(y,m)(d)},245:function(e,t,n){"use strict";function r(e,t){var n=e.sim.t;return t.t=n+1,t}function o(e,t){var n=e.sim.temp;return t.temp=n+Math.random(),t}Object.defineProperty(t,"__esModule",{value:!0}),t.update=void 0;var i=(n(187),n(195));t.update=function(e){console.log("simulation state",e);var t={},n=[];return t=r(e,t),t=o(e,t),n.push((0,i.nextStep)(t)),n}},246:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(64),c=n(17),p=n(195),f=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleInput=n.handleInput.bind(n),n}return i(t,e),a(t,[{key:"handleInput",value:function(e){console.log("handle click input, play  "+e),this.props.playSim(e)}},{key:"render",value:function(){var e=this;return u.default.createElement("div",null,u.default.createElement("button",{onClick:function(){e.handleInput(!0)}},"play"),u.default.createElement("button",{onClick:function(){e.handleInput(!1)}},"pause"))}}]),t}(u.default.Component),d=function(e){return{play:e.simulation.ui.play}},m=function(e){return(0,c.bindActionCreators)({playSim:p.playSim},e)};t.default=(0,l.connect)(d,m)(f)},247:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(64),c=n(17),p=n(215),f=n(187),d=n(193),m=n(216),y=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"componentDidMount",value:function(){if(console.log("initialization beginning"),Object.keys(this.props.state.items[f.constants.items.asteroidSample]).length<3){console.log("initializaing asteroid samples");for(var e=void 0,t=0;t<3;t++)e=this.props.createSample(),this.props.addItem(f.constants.fsm.actions.inventory,f.constants.items.asteroidSample,e.id,e);var n=(0,m.createStock)(e.game.element);n=(0,m.addToStock)(n,e.game.element,e.game.weight),this.props.addItem(f.constants.fsm.actions.inventory,f.constants.items.stock,e.game.element,n),this.props.deleteItem(f.constants.fsm.actions.inventory,f.constants.items.asteroidSample,e.id,e)}}},{key:"render",value:function(){return null}}]),t}(u.default.Component),h=function(e){return(0,c.bindActionCreators)({createSample:p.createSample,addItem:d.addItem,deleteItem:d.deleteItem},e)},v=function(e){return{state:e}};t.default=(0,l.connect)(v,h)(y)},265:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=n(266),i=n(189),a=n(193),s=n(267),u=n(195),l=n(268),c=(0,r.combineReducers)({simulation:u.reducer,game:o.reducer,fsm:i.reducer,items:a.reducer,relations:s.reducer}),p=function(e,t){var n=(0,l.parentReducer)(e,t);return c(n,t)};t.default=p},266:function(e,t,n){"use strict";function r(e,t){return{type:"SET_HEALTH",payload:{time:e,temp:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0,t.setHealth=r;var o=n(187);t.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{health:100,zone:o.constants.fsm.zones.lounge};return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type,e}},267:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;var o=n(187);t.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r({},o.constants.relations.contains,r({},o.constants.fsm.zones.control,r({},o.constants.items.ship,[o.constants.items.engine,o.constants.items.hull])));return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type,e}},268:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.moveItem=t.parentReducer=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(n(269),n(187));t.parentReducer=function(e,t){switch(t.type){case"ADD_ITEM":var n=e.relations[a.constants.relations.contains][t.payload.container]?e.relations[a.constants.relations.contains][t.payload.container]:{},s=n[t.payload.type]?n[t.payload.type]:[];if(s.indexOf(t.payload.id)<=-1)return i({},e,{relations:r({},a.constants.relations.contains,i({},e.relations[a.constants.relations.contains],r({},t.payload.container,i({},n,r({},t.payload.type,[].concat(o(s),[t.payload.id]))))))});break;case"DEL_ITEM":var u=e.relations[a.constants.relations.contains][t.payload.container],l=u[t.payload.type].filter(function(e){if(e!=t.payload.id)return e});return i({},e,{relations:r({},a.constants.relations.contains,i({},e.relations[a.constants.relations.contains],r({},t.payload.container,i({},u,r({},t.payload.type,l)))))});case"MOVE_ITEM":console.log("parent reducer move item");break;case"SET_ZONE":return i({},e,{fsm:i({},e.fsm,r({},t.payload.zone,{state:t.payload.state})),game:i({},e.game,{zone:t.payload.zone})});default:return e}return e},t.moveItem=function(e,t,n){return{type:"MOVE_ITEM",payload:{from:e,to:t,item:n}}}},269:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return{type:"ADD_SAMPLE",payload:{sample:e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.addSample=o;var a=n(270),s=n(271),u=(0,s.createAsteroid)();t.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r({},a.constants.inventory.items,r({},a.constants.mine.samples,r({},u.sample.id,u.sample))),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"ADD_SAMPLE":return i({},e,r({},a.constants.inventory.items,r({},a.constants.mine.samples,i({},e.inventory.samples,r({},t.payload.sample.id,t.payload.sample)))));default:return e}}},270:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=t.constants={input:{kId:"kId",vId:"vId"},store:{state:"state"},names:{lounge:"lounge"},types:{zones:"zones",actions:"actions",questions:"questions"},zones:{lounge:"lounge",control:"control"},questions:{read:"read"},actions:{mine:"mine",inventory:"inventory"},read:{q1:"q1"},mine:{samples:"samples"},inventory:{items:"items"},logTypes:{action:"action",answer:"answer"}};t.messages={changeZone:function(e,t){var n;return n={},r(n,i.input.vId,e),r(n,"changeFrom",function(e){return{to:t,from:e}}),n},toFSMState:function(e,t){return{id:e,state:t}},zone:function(e){return r({},i.input.vId,e)},action:function(e){return r({},i.input.vId,e)},output:function(e,t){return o(r({},i.input.vId,e),t)}}},271:function(e,t,n){"use strict";function r(){var e=["iron","magnesium","copper","silver"],t=(0,o.getRandomItem)(e);return{description:"it is a "+t+" asteroid",sample:{id:(0,i.guid)(),name:"unknown sample",game:{weight:10*Math.random()+5,element:t},user:{weight:null,element:null}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.createAsteroid=r;var o=n(203),i=n(202)}});